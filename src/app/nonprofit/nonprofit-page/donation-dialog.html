<button mat-icon-button class="close-icon-button" [mat-dialog-close]="true">
    <mat-icon class="close-icon">close</mat-icon>
</button>
<h1 mat-dialog-title>
    Thank you for choosing to to donate to {{data.nonprofitName}}!
</h1>
<div mat-dialog-content class="donation-stepper-container">
    <mat-vertical-stepper linear #stepper>
        
        <!-- Donation Amount Stepper-->
        <mat-step [stepControl]="donationAmountForm">
            <form [formGroup]="donationAmountForm">
                <ng-template matStepLabel>Enter Donation Amount</ng-template>

                <div class="donation-inputs-container">
                    <!-- Input for donation amount -->
                    <div class="donation-input">
                        <mat-form-field>
                            <mat-label>Enter Amount to Donate</mat-label>
                            <input formControlName="donationAmount" matInput type="text" currencyMask>
                        </mat-form-field>
                    </div>
                </div>
                <button mat-button matStepperNext>Next</button>
            </form>
        </mat-step>

        <!-- Your Information Stepper -->
        <mat-step [stepControl]="donorInformationForm">
            <form [formGroup]="donorInformationForm">
                <ng-template matStepLabel>Your Billing Information</ng-template>
                
                <div class="user-information-parent">
                    <div class="inputs-container">
                        <!-- LEFT INPUTS CONTAINER -->
                        <div class="donation-input">
                            <!-- Card Holder Name -->
                            <mat-form-field>
                                <mat-label>Card Holder Name</mat-label>
                                <input formControlName="cardHolderName" matInput type="text" >
                            </mat-form-field> 
                            
                            <!-- Street Address -->
                            <mat-form-field>
                                <mat-label>Street Address</mat-label>
                                <input formControlName="streetAddress" matInput type="text">
                            </mat-form-field>

                            <!-- City -->
                            <mat-form-field>
                                <mat-label>City</mat-label>
                                <input formControlName="city" matInput type="text">
                            </mat-form-field>

                            <!-- State -->
                            <mat-form-field>
                                <mat-label>State</mat-label>
                                <input formControlName="state" matInput type="text">
                            </mat-form-field>

                        </div>
                    </div>
                    <!-- RIGHT INPUTS CONTAINER -->
                    <div class="inputs-container">
                        <div class="donation-input">
                            <!-- Card Number -->
                            <mat-form-field>
                                <mat-label>Card Number</mat-label>
                                <input formControlName="cardNumber" matInput type="text" ccNumber>
                                <mat-hint> Hint: Do NOT input real CC number</mat-hint>
                            </mat-form-field>
                            
                            <!-- Expiration Date-->
                            <mat-form-field>
                                <mat-label>Card Expiration Date</mat-label>
                                <input formControlName="cardExpirationDate" matInput type="text" ccExp>
                            </mat-form-field>

                            <!-- Card CVC-->
                            <mat-form-field>
                                <mat-label>CVC</mat-label>
                                <input formControlName="cardCVC" matInput type="text" ccCVC>
                            </mat-form-field>

                            <!-- Email Address -->
                            <mat-form-field>
                                <mat-label>Email Adress</mat-label>
                                <input formControlName="emailAddress" matInput type="email">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button matStepperNext>Go To Confirmation Page</button>
                </div>
                
            </form>
        </mat-step>

        <!-- Confirmation Stepper -->
        <mat-step>
            <form [formGroup]="confirmationForm">
                <ng-template matStepLabel>Confirm Your Donation</ng-template>

                <div>
                    <p>
                        Again, thank you for choosing to donate to <b>{{getOrgName()}}</b>!
                    </p>
                    <p>
                        The amount you wish to donate and your payment information
                        is displayed below. Please confirm your information and go back
                        and make any changes should something be incorrect.
                    </p>
                    <div class="inputs-container">
                        <div class="donation-input">
                            <!-- Donation Amunt -->
                            <p style="content: '$';"> 
                                <b>Your Donation Amount: </b> ${{getDonationAmount()}} 
                            </p>
                            
                            <!-- Card Holder Name -->
                            <p> 
                                <b>Card Holder Name:</b> {{getCardHolderName()}} 
                            </p>

                            <!-- Street Address-->
                            <p> 
                                <b>Street Address:</b> {{getStreetAddress()}}
                            </p>

                            <!-- City -->
                            <p> 
                                <b>City:</b> {{getCity()}}
                            </p>

                            <!-- State -->
                            <p> 
                                <b>State:</b> {{getState()}}
                            </p>
                        </div>
                    </div>
                    <div class="inputs-container">
                        <div class="donation-input">
                            <!-- Card Number -->
                            <p> 
                                <b>Card Number:</b> {{getCardNumber()}} 
                            </p>

                            <!-- Expiration Date-->
                            <p> 
                                <b>Expiration Date:</b> {{getCardExpDate()}}
                            </p>

                            <!-- Card CVC-->
                            <p>
                                <b>Card CVC:</b> {{getCardCVC()}} 
                            </p>

                            <!-- Email Address -->
                            <p> 
                                <b>Email Address:</b> {{getEmail()}}
                            </p>

                            
                        </div>
                    </div>
                </div>

                <button mat-button matStepperPrevious>Back</button>
                <button mat-button (click)="submitDonation()">Submit Donation</button>
            </form>
        </mat-step>
    </mat-vertical-stepper>
</div>